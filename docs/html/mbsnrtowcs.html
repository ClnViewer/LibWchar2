<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libwchar2 0.0.8: mbsnrtowcs manual</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="bm.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libwchar2 0.0.8
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">mbsnrtowcs manual </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>mbsnrtowcs - <code>convert a multibyte string to a wide-character string</code></b></p>
<p>The mbsnrtowcs() function is like the mbsrtowcs(3) function, except that the number of bytes to be converted, starting at <code>*src</code>, is limited to at most nms bytes.</p>
<p>If dest is not <code>NULL</code>, the mbsnrtowcs() function converts at most <code>nms</code> bytes from the multibyte string <code>*src</code> to a wide-character string starting at <code>dest</code>. <br />
 At most len wide characters are written to dest. <br />
 The shift state <code>*ps</code> is updated.</p>
<p>The conversion is effectively performed by repeatedly calling:</p>
<div class="fragment"><div class="line">mbrtowc(dest, *src, n, ps)</div></div><!-- fragment --><p>where <code>n</code> is some positive number, as long as this call succeeds, and then incrementing <code>dest</code> by one and <code>*src</code> by the number of bytes consumed. <br />
 The conversion can stop for three reasons:</p>
<ol type="1">
<li>An invalid multibyte sequence has been encountered. In this case, <code>*src</code> is left pointing to the invalid multibyte sequence, <code>(size_t) -1</code> is returned, and <code>errno</code> is set to <code>EILSEQ</code>.</li>
<li>The nms limit forces a stop, or len non <code>L</code>'\0' wide characters have been stored at <code>dest</code>. <br />
 In this case, *src is left pointing to the next multibyte sequence to be converted, and the number of wide characters written to <code>dest</code> is returned.</li>
<li>The multibyte string has been completely converted, including the terminating null wide character <code>L</code>'\0', which has the side effect of bringing back <code>*ps</code> to the initial state. <br />
 In this case, <code>*src</code> is set to <code>NULL</code>, and the number of wide characters written to <code>dest</code>, excluding the terminating null wide character, is returned.</li>
</ol>
<p>According to <code>POSIX.1</code>, if the input buffer ends with an incomplete character, it is unspecified whether conversion stops at the end of the previous character, if any, or at the end of the input buffer. <br />
 The glibc implementation adopts the former behavior.</p>
<p>If <code>dest</code> is <code>NULL</code>, <code>len</code> is ignored, and the conversion proceeds as above, except that the converted wide characters are not written out to memory, and that no destination length limit exists.</p>
<p>In both of the above cases, if <code>ps</code> is <code>NULL</code>, a static anonymous state known only to the mbsnrtowcs() function is used instead.</p>
<p>The programmer must ensure that there is room for at least len wide characters at dest.</p>
<h1><a class="anchor" id="autotoc_md54"></a>
Return Value</h1>
<p>The mbsnrtowcs() function returns the number of wide characters that make up the converted part of the wide-character string, not including the terminating null wide character. <br />
 If an invalid multibyte sequence was encountered, <code>(size_t) -1</code> is returned, and errno set to <code>EILSEQ</code>.</p>
<h1><a class="anchor" id="autotoc_md55"></a>
Notes</h1>
<p>The behavior of mbsnrtowcs() depends on the <code>LC_CTYPE</code> category of the current locale. <br />
 Passing <code>NULL</code> as <code>ps</code> is not multithread safe.</p>
<h1><a class="anchor" id="autotoc_md56"></a>
See example</h1>
<dl class="section see"><dt>See also</dt><dd><a href="https://github.com/ClnViewer/LibWchar2/blob/master/test/test_mbsnrtowcs.c">https://github.com/ClnViewer/LibWchar2/blob/master/test/test_mbsnrtowcs.c</a></dd></dl>
<p><dl class="section user"><dt>LibWchar2 information</dt><dd></dd></dl>
<dl class="section version"><dt>Version</dt><dd>libwchar2 0.0.8 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Wed Aug 08 2018 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>(c) PS 2018-2018</dd></dl>
<dl class="section user"><dt>Manual author and license</dt><dd></dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>GNU Public License version 2. <a class="el" href="mlicense.html">Manual license details</a></dd></dl>
 </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Aug 8 2018 08:40:43 for libwchar2 0.0.8 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
