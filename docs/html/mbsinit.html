<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libwchar2 0.0.8: mbsinit manual</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="bm.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libwchar2 0.0.8
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">mbsinit manual </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>mbsinit - <code>test for initial shift state</code></b></p>
<p>Character conversion between the multibyte representation and the wide character representation uses conversion state, of type <code>mbstate_t</code>. <br />
 Conversion of a string uses a finite-state machine; when it is interrupted after the complete conversion of a number of characters, it may need to save a state for processing the remaining characters. <br />
 Such a conversion state is needed for the sake of encodings such as <code>ISO-2022</code> and <code>UTF-7</code>.</p>
<p>The initial state is the state at the beginning of conversion of a string. <br />
 There are two kinds of state: the one used by multibyte to wide character conversion functions, such as mbsrtowcs(3), and the one used by wide character to multibyte conversion functions, such as wcsrtombs(3), but they both fit in a mbstate_t, and they both have the same representation for an initial state.</p>
<p>For <code>8-bit</code> encodings, all states are equivalent to the initial state. <br />
 For multibyte encodings like <code>UTF-8</code>, <code>EUC-*</code>, <code>BIG5</code> or <code>SJIS</code>, the wide character to multibyte conversion functions never produce non-initial states, but the multibyte to wide-character conversion functions like mbrtowc(3) do produce non-initial states when interrupted in the middle of a character.</p>
<p>One possible way to create an mbstate_t in initial state is to set it to zero:</p>
<div class="fragment"><div class="line">mbstate_t state; memset(&amp;state,0,<span class="keyword">sizeof</span>(mbstate_t));</div></div><!-- fragment --><p>On Linux, the following works as well, but might generate compiler warnings:</p>
<div class="fragment"><div class="line">mbstate_t state = {0};</div></div><!-- fragment --><p>The function mbsinit() tests whether <code>*ps</code> corresponds to an initial state.</p>
<h1><a class="anchor" id="autotoc_md51"></a>
Return Value</h1>
<p>The mbsinit() returns nonzero if <code>*ps</code> is an initial state, or if ps is <code>NULL</code>. <br />
 Otherwise, it returns <code>0</code>.</p>
<h1><a class="anchor" id="autotoc_md52"></a>
Notes</h1>
<p>The behavior of mbsinit() depends on the <code>LC_CTYPE</code> category of the current locale. <br />
 The libwchar2 not realy using <code>mbstate_t</code>, acts as a stub.</p>
<h1><a class="anchor" id="autotoc_md53"></a>
See example</h1>
<dl class="section see"><dt>See also</dt><dd><a href="https://github.com/ClnViewer/LibWchar2/blob/master/test/test_mbsinit.c">https://github.com/ClnViewer/LibWchar2/blob/master/test/test_mbsinit.c</a></dd></dl>
<p><dl class="section user"><dt>LibWchar2 information</dt><dd></dd></dl>
<dl class="section version"><dt>Version</dt><dd>libwchar2 0.0.8 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Sun Aug 05 2018 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>(c) PS 2018-2018</dd></dl>
<dl class="section user"><dt>Manual author and license</dt><dd></dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>GNU Public License version 2. <a class="el" href="mlicense.html">Manual license details</a></dd></dl>
 </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 6 2018 02:16:54 for libwchar2 0.0.8 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
